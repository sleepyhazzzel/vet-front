import{p as x,l as D,g as A,f as L,h as a,aK as E,v as N,aL as F,c as w,C as M,I as q,L as G,q as J,z as K,t as b,Q,A as U,T as Z,J as $,aM as j,a8 as _,i as z,_ as H,a3 as c,a5 as p,a6 as m,ab as O,af as W,r as P,aN as X,a0 as Y,Z as ee,a2 as te,a4 as B,aa as f,V as ae,ar as re,a7 as h,a9 as I,au as ne}from"./index-716b94b4.js";import{z as se}from"./vue-boring-avatars-a25679ed.js";import{V as ie,a as oe}from"./VNavigationDrawer-f3285278.js";import{V as y,b as R,c as le,d as ue}from"./VList-2751bc00.js";const de=x({divider:[Number,String],...D()},"VBreadcrumbsDivider"),ce=A()({name:"VBreadcrumbsDivider",props:de(),setup(t,v){let{slots:e}=v;return L(()=>{var n;return a("li",{class:["v-breadcrumbs-divider",t.class],style:t.style},[((n=e==null?void 0:e.default)==null?void 0:n.call(e))??t.divider])}),{}}}),me=x({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...D(),...E(),...N({tag:"li"})},"VBreadcrumbsItem"),ve=A()({name:"VBreadcrumbsItem",props:me(),setup(t,v){let{slots:e,attrs:n}=v;const g=F(t,n),d=w(()=>{var i;return t.active||((i=g.isActive)==null?void 0:i.value)}),C=w(()=>d.value?t.activeColor:t.color),{textColorClasses:V,textColorStyles:l}=M(C);return L(()=>a(t.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":d.value,"v-breadcrumbs-item--disabled":t.disabled,[`${t.activeClass}`]:d.value&&t.activeClass},V.value,t.class],style:[l.value,t.style],"aria-current":d.value?"page":void 0},{default:()=>{var i,s;return[g.isLink.value?a("a",{class:"v-breadcrumbs-item--link",href:g.href.value,"aria-current":d.value?"page":void 0,onClick:g.navigate},[((s=e.default)==null?void 0:s.call(e))??t.title]):((i=e.default)==null?void 0:i.call(e))??t.title]}})),{}}}),ge=x({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:q,items:{type:Array,default:()=>[]},...D(),...G(),...J(),...N({tag:"ul"})},"VBreadcrumbs"),be=A()({name:"VBreadcrumbs",props:ge(),setup(t,v){let{slots:e}=v;const{backgroundColorClasses:n,backgroundColorStyles:g}=K(b(t,"bgColor")),{densityClasses:d}=Q(t),{roundedClasses:C}=U(t);Z({VBreadcrumbsDivider:{divider:b(t,"divider")},VBreadcrumbsItem:{activeClass:b(t,"activeClass"),activeColor:b(t,"activeColor"),color:b(t,"color"),disabled:b(t,"disabled")}});const V=w(()=>t.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return L(()=>{const l=!!(e.prepend||t.icon);return a(t.tag,{class:["v-breadcrumbs",n.value,d.value,C.value,t.class],style:[g.value,t.style]},{default:()=>{var i;return[l&&a("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[e.prepend?a(j,{key:"prepend-defaults",disabled:!t.icon,defaults:{VIcon:{icon:t.icon,start:!0}}},e.prepend):a($,{key:"prepend-icon",start:!0,icon:t.icon},null)]),V.value.map((s,o,r)=>{var S;let{item:u,raw:T}=s;return a(_,null,[((S=e.item)==null?void 0:S.call(e,{item:u,index:o}))??a(ve,z({key:o,disabled:o>=r.length-1},typeof u=="string"?{title:u}:u),{default:e.title?()=>{var k;return(k=e.title)==null?void 0:k.call(e,{item:u,index:o})}:void 0}),o<r.length-1&&a(ce,null,{default:e.divider?()=>{var k;return(k=e.divider)==null?void 0:k.call(e,{item:T,index:o})}:void 0})])}),(i=e.default)==null?void 0:i.call(e)]}})}),{}}});const fe={};function pe(t,v){return c(),p(be,{items:t.$route.matched,class:"breadcrumbs"},{item:m(({item:e})=>[O(W(e.meta.name),1)]),divider:m(()=>[a($,{icon:"mdi-chevron-right",size:"small"})]),_:1},8,["items"])}const Ce=H(fe,[["render",pe],["__scopeId","data-v-36fa699a"]]),Be={__name:"AdminLayout",setup(t){const v=P(!0),e=P(!1),n=X(),{apiAuth:g}=ne(),d=Y(),C=ee(),V=w(()=>[{to:"/admin",text:"管理員登入",show:!n.isAdminLogin,icon:"mdi-login-variant",group:!1},{text:"病歷管理",show:n.isAdminLogin,icon:"mdi-file-document-multiple-outline",group:!0,children:[{to:"/admin/medical-data/new",text:"新增病例",show:!0},{to:"/admin/medical-data",text:"病歷總覽",show:!0}]},{text:"掛號管理",show:n.isAdminLogin,icon:"mdi-calendar",group:!0,children:[{to:"/admin/appointment",text:"掛號資訊",show:!0},{to:"/admin/appointment/system",text:"掛號系統",show:!0}]},{to:"/admin/setting",text:"管理員設定",show:n.isAdminLogin,icon:"mdi-cog",group:!1}]),l=async()=>{var i,s;try{await g.delete("/admins/logout"),n.logout(),d({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"success",location:"bottom"}}),C.push("/admin")}catch(o){const r=((s=(i=o==null?void 0:o.responce)==null?void 0:i.data)==null?void 0:s.message)||"發生錯誤，請稍後再試";d({text:r,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"warning",location:"bottom"}})}};return(i,s)=>{const o=te("RouterView");return c(),B(_,null,[a(ie,{theme:"dark",modelValue:v.value,"onUpdate:modelValue":s[1]||(s[1]=r=>v.value=r),rail:e.value,onClick:s[2]||(s[2]=r=>e.value=!1),permanent:""},{default:m(()=>[f(n).isAdminLogin?(c(),p(R,{key:0},{default:m(()=>[a(y,{title:f(n).account,subtitle:f(n).position},{prepend:m(()=>[a(f(se),{name:f(n).account,variant:"beam",size:40,colors:["#545454","#7B8A84","#B2DFDB","#EDE7D5","#B7CC18"]},null,8,["name"])]),append:m(()=>[a(ae,{variant:"text",icon:"mdi-chevron-left",onClick:s[0]||(s[0]=re(r=>e.value=!e.value,["stop"]))})]),_:1},8,["title","subtitle"])]),_:1})):h("",!0),a(le),a(R,{nav:""},{default:m(()=>[(c(!0),B(_,null,I(V.value,r=>(c(),B(_,{key:r},[r.show&&!r.group?(c(),p(y,{key:0,to:r.to,"prepend-icon":r.icon,title:r.text,exact:""},null,8,["to","prepend-icon","title"])):h("",!0),r.show&&r.group?(c(),p(ue,{key:1},{activator:m(({props:u})=>[a(y,z(u,{"prepend-icon":r.icon,title:r.text,exact:""}),null,16,["prepend-icon","title"])]),default:m(()=>[(c(!0),B(_,null,I(r.children,u=>(c(),p(y,{key:u,to:u.to,title:u.text,exact:""},null,8,["to","title"]))),128))]),_:2},1024)):h("",!0)],64))),128)),f(n).isAdminLogin?(c(),p(y,{key:0,onClick:l,title:"登出","prepend-icon":"mdi-logout"})):h("",!0)]),_:1})]),_:1},8,["modelValue","rail"]),a(oe,{class:"bg-grey-lighten-2"},{default:m(()=>[a(Ce),a(o)]),_:1})],64)}}};export{Be as default};
