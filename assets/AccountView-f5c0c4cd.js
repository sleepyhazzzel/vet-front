import{p as M,l as $,O as z,v as N,x as U,g as P,X as Y,S as R,h as e,aq as j,at as q,_ as H,a0 as J,a1 as O,a2 as W,r as X,c as G,o as K,a4 as V,a5 as x,a7 as t,ab as b,al as Q,aD as _,V as A,ad as r,ah as n,aa as T,ac as I,aE as D,aj as Z,ak as ee,ai as c,aF as te,aG as ae,ae as se,J as le,aH as oe}from"./index-928cbe6e.js";import{V as ne}from"./VContainer-c9bf44f0.js";import{V as y}from"./VRow-bc352195.js";import{V as i}from"./VCol-16c21398.js";import{b as B,V as F,a as ce,c as S}from"./VList-396ce3d5.js";import{V as re}from"./VDataTable-03565d57.js";import{V as de}from"./VSheet-5b3ea164.js";import"./VSelect-85b188be.js";const L=Symbol.for("vuetify:v-item-group"),ie=M({...$(),...z({selectedClass:"v-item--selected"}),...N(),...U()},"VItemGroup"),ue=P()({name:"VItemGroup",props:ie(),emits:{"update:modelValue":l=>!0},setup(l,o){let{slots:d}=o;const{themeClasses:k}=Y(l),{isSelected:p,select:m,next:f,prev:h,selected:g}=R(l,L);return()=>e(l.tag,{class:["v-item-group",k.value,l.class],style:l.style},{default:()=>{var u;return[(u=d.default)==null?void 0:u.call(d,{isSelected:p,select:m,next:f,prev:h,selected:g.value})]}})}}),me=P()({name:"VItem",props:j(),emits:{"group:selected":l=>!0},setup(l,o){let{slots:d}=o;const{isSelected:k,select:p,toggle:m,selectedClass:f,value:h,disabled:g}=q(l,L);return()=>{var u;return(u=d.default)==null?void 0:u.call(d,{isSelected:k.value,selectedClass:f.value,select:p,toggle:m,value:h.value,disabled:g.value})}}});const w=l=>(Z("data-v-93a170cd"),l=l(),ee(),l),_e=w(()=>c("div",{class:"bg"},null,-1)),pe={class:"text-h3 flex-grow-1 text-center"},fe={class:"small-title"},he={class:"text-caption"},ge=w(()=>c("p",null,"體重",-1)),ve={class:"text-h6"},Ve=w(()=>c("p",null,"年齡",-1)),xe={class:"text-h6"},be={class:"text-h6"},ke=w(()=>c("p",null,"出生日期",-1)),ye={class:"text-h6"},we={__name:"AccountView",setup(l){const o=J();O();const{api:d,apiAuth:k}=Q(),{smAndUp:p}=W(),m=X([]);G(()=>p.value);const f=G(()=>`https://source.boringavatars.com/beam/120/${encodeURIComponent(o.user_name)}?colors=545454,7B8A84,B2DFDB,EDE7D5,B7CC18`);K(async()=>{o.address||(o.address="尚未填寫");const{data:v}=await d.get(`/pets/owner/${o._id}`);v.result&&(m.value=v.result.map(a=>(a.birth=new Date(a.birth).toLocaleDateString("zh-TW"),a.age=new Date().getFullYear()-new Date(a.birth).getFullYear(),a.month=new Date().getMonth()-new Date(a.birth).getMonth(),(a.month<0||a.month===0&&new Date().getDate()<new Date(a.birth).getDate())&&(a.age-=1,a.month+=12),{name:a.name,species:a.species,breed:a.breed,gender:a.gender,birth:a.birth,age:a.age,month:a.month,weight:a.weight,chip_id:a.chip_id,image:a.image})))});const h=[{icon:"mdi-phone",text:o.phone},{icon:"mdi-card-account-details",text:o.national_id},{icon:"mdi-map-marker",text:o.address},{icon:"mdi-email",text:o.email}],g=[{title:"日期",key:"date"},{title:"時段",key:"time"},{title:"獸醫師",key:"doctor"},{title:"操作",key:"actions",align:"center",sortable:!1}],u=[{date:"2021-09-01",time:"09:00",doctor:"王小明",status:"已完成"},{date:"2021-09-01",time:"09:00",doctor:"王小明",status:"已完成"},{date:"2021-09-01",time:"09:00",doctor:"王小明",status:"已完成"},{date:"2021-09-01",time:"09:00",doctor:"王小明",status:"已完成"},{date:"2021-09-01",time:"09:00",doctor:"王小明",status:"已完成"}];return(v,a)=>(V(),x(b,null,[_e,e(ne,{style:{"margin-top":"-15vh"}},{default:t(()=>[e(y,null,{default:t(()=>[e(i,{cols:"12",md:"10","offset-md":"1"},{default:t(()=>[e(_,{class:"px-4 py-2"},{default:t(()=>[e(B,{class:"pb-0"},{default:t(()=>[e(F,{"prepend-avatar":f.value},{append:t(()=>[e(A,{icon:"mdi-pencil",color:"grey",variant:"text"})]),default:t(()=>[e(ce,null,{default:t(()=>[r(n(T(o).user_name)+"("+n(T(o).honorific)+") ",1)]),_:1})]),_:1},8,["prepend-avatar"])]),_:1}),e(S,{class:"my-1"}),e(y,null,{default:t(()=>[(V(),x(b,null,I(h,s=>e(i,{key:s,cols:"3"},{default:t(()=>[e(B,{class:"pa-0",disabled:""},{default:t(()=>[e(F,{"prepend-icon":s.icon},{default:t(()=>[r(n(s.text),1)]),_:2},1032,["prepend-icon"])]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",md:"5","offset-md":"1"},{default:t(()=>[e(_,{class:"pa-3"},{default:t(()=>[e(D,{class:"card-title"},{default:t(()=>[r("寵物資料")]),_:1}),e(ue,{mandatory:""},{default:t(()=>[e(y,null,{default:t(()=>[(V(),x(b,null,I(3,s=>e(i,{key:s,cols:"6"},{default:t(()=>[e(me,null,{default:t(({isSelected:C,toggle:E})=>[e(_,{color:C?"teal":"",class:"d-flex align-center",dark:"",height:"150",onClick:E},{default:t(()=>[e(te,null,{default:t(()=>[c("div",pe,n(C?"Selected":"Click Me!"),1)]),_:2},1024)]),_:2},1032,["color","onClick"])]),_:1})]),_:2},1024)),64))]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",md:"5"},{default:t(()=>[e(_,{class:"pa-3 mb-3"},{default:t(()=>[e(D,{class:"card-title"},{default:t(()=>[r("基本資料")]),_:1}),(V(!0),x(b,null,I(m.value,s=>(V(),x(b,{key:s},[e(_,{class:"mx-2"},{prepend:t(()=>[e(ae,{size:"60",class:"me-2"},{default:t(()=>[e(se,{src:s.image,cover:""},null,8,["src"])]),_:2},1024)]),title:t(()=>[r(n(s.name),1),c("span",fe," ("+n(s.species)+")",1)]),subtitle:t(()=>[c("p",he,"晶片號碼："+n(s.chip_id),1)]),append:t(()=>[e(le,{icon:s.gender==="公"?"mdi-gender-male":"mdi-gender-female",color:"teal",size:"40"},null,8,["icon"])]),_:2},1024),e(de,{class:"mx-2 mb-2 px-3 sheet",rounded:""},{default:t(()=>[e(oe,null,{default:t(()=>[e(y,null,{default:t(()=>[e(i,{cols:"4"},{default:t(()=>[ge,c("span",ve,n(s.weight),1),r("(g) ")]),_:2},1024),e(S,{color:"teal",vertical:""}),e(i,{cols:"4"},{default:t(()=>[Ve,c("span",xe,n(s.age),1),r(" 歲 "),c("span",be,n(s.month),1),r(" 月 ")]),_:2},1024),e(S,{color:"teal",vertical:""}),e(i,{cols:"4"},{default:t(()=>[ke,c("span",ye,n(s.birth),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)],64))),128))]),_:1}),e(_,null,{default:t(()=>[e(D,{class:"ma-3 card-title"},{default:t(()=>[r("掛號紀錄")]),_:1}),e(re,{headers:g,items:u,"items-per-page":5,class:"elevation-1"},{"item.actions":t(({item:s})=>[e(A,{color:"teal",variant:"text",onClick:C=>v.showAppointment(s)},{default:t(()=>[r("取消 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1})],64))}},Fe=H(we,[["__scopeId","data-v-93a170cd"]]);export{Fe as default};
