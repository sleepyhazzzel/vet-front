import{p as A,r as F,s as P,c as r,a as ue,w as $,o as ie,b as ce,m as H,g as L,u as de,d as ve,e as Y,t as C,f as R,h as a,i as z,j as me,k as ge,V as N,I as fe,l as G,n as he,q as O,v as X,x as j,y as be,z as q,A as W,B as ye,C as Ve,D as te,E as Se,F as ke,M as Be,G as _e,H as Ce,J as I,K as ae,L as pe,N as oe,O as we,P as le,Q as xe,R as se,S as Te,T as Ne,U as M,W as Ie,X as Pe,Y as Ae,_ as Le,Z as Re,$ as ze,a0 as $e,a1 as De,a2 as Ee,a3 as v,a4 as w,a5 as _,a6 as s,a7 as p,a8 as T,a9 as U,aa as D,ab as x,ac as Fe,ad as Ue,ae as Me,af as E,ag as ne,ah as He,ai as Ye,aj as Ge}from"./index-fcbf0fd3.js";import{V as Oe,a as Xe}from"./VNavigationDrawer-05600582.js";import{m as je,V as Q,a as qe,b as We}from"./VToolbar-0312fd5e.js";import{u as re,V as Z,a as ee,b as Je}from"./VList-759ef745.js";import{V as Ke}from"./VContainer-5fcad632.js";import{V as Qe}from"./VRow-6108e702.js";const Ze=A({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function et(e){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:d}=c;let h=0;const l=F(null),o=P(0),b=P(0),f=P(0),S=P(!1),y=P(!1),u=r(()=>Number(e.scrollThreshold)),g=r(()=>ue((u.value-o.value)/u.value||0)),m=()=>{const i=l.value;!i||d&&!d.value||(h=o.value,o.value="window"in i?i.pageYOffset:i.scrollTop,y.value=o.value<h,f.value=Math.abs(o.value-u.value))};return $(y,()=>{b.value=b.value||o.value}),$(S,()=>{b.value=0}),ie(()=>{$(()=>e.scrollTarget,i=>{var B;const k=i?document.querySelector(i):window;k&&k!==l.value&&((B=l.value)==null||B.removeEventListener("scroll",m),l.value=k,l.value.addEventListener("scroll",m,{passive:!0}))},{immediate:!0})}),ce(()=>{var i;(i=l.value)==null||i.removeEventListener("scroll",m)}),d&&$(d,m,{immediate:!0}),{scrollThreshold:u,currentScroll:o,currentThreshold:f,isScrollActive:S,scrollRatio:g,isScrollingUp:y,savedScroll:b}}const tt=A({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...je(),...H(),...Ze(),height:{type:[Number,String],default:64}},"VAppBar"),at=L()({name:"VAppBar",props:tt(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:d}=c;const h=F(),l=de(e,"modelValue"),o=r(()=>{var t;const n=new Set(((t=e.scrollBehavior)==null?void 0:t.split(" "))??[]);return{hide:n.has("hide"),inverted:n.has("inverted"),collapse:n.has("collapse"),elevate:n.has("elevate"),fadeImage:n.has("fade-image")}}),b=r(()=>{const n=o.value;return n.hide||n.inverted||n.collapse||n.elevate||n.fadeImage||!l.value}),{currentScroll:f,scrollThreshold:S,isScrollingUp:y,scrollRatio:u}=et(e,{canScroll:b}),g=r(()=>e.collapse||o.value.collapse&&(o.value.inverted?u.value>0:u.value===0)),m=r(()=>e.flat||o.value.elevate&&(o.value.inverted?f.value>0:f.value===0)),i=r(()=>o.value.fadeImage?o.value.inverted?1-u.value:u.value:void 0),k=r(()=>{var J,K;if(o.value.hide&&o.value.inverted)return 0;const n=((J=h.value)==null?void 0:J.contentHeight)??0,t=((K=h.value)==null?void 0:K.extensionHeight)??0;return n+t});ve(r(()=>!!e.scrollBehavior),()=>{me(()=>{o.value.hide?o.value.inverted?l.value=f.value>S.value:l.value=y.value||f.value<S.value:l.value=!0})});const{ssrBootStyles:B}=re(),{layoutItemStyles:V}=Y({id:e.name,order:r(()=>parseInt(e.order,10)),position:C(e,"location"),layoutSize:k,elementSize:P(void 0),active:l,absolute:C(e,"absolute")});return R(()=>{const n=Q.filterProps(e);return a(Q,z({ref:h,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...V.value,"--v-toolbar-image-opacity":i.value,height:void 0,...B.value},e.style]},n,{collapse:g.value,flat:m.value}),d)}),{}}}),ot=A({...ge({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),lt=L()({name:"VAppBarNavIcon",props:ot(),setup(e,c){let{slots:d}=c;return R(()=>a(N,z(e,{class:["v-app-bar-nav-icon"]}),d)),{}}}),st=L()({name:"VAppBarTitle",props:qe(),setup(e,c){let{slots:d}=c;return R(()=>a(We,z(e,{class:"v-app-bar-title"}),d)),{}}});const nt=A({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:fe,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...G(),...he({location:"top end"}),...O(),...X(),...j(),...be({transition:"scale-rotate-transition"})},"VBadge"),rt=L()({name:"VBadge",inheritAttrs:!1,props:nt(),setup(e,c){const{backgroundColorClasses:d,backgroundColorStyles:h}=q(C(e,"color")),{roundedClasses:l}=W(e),{t:o}=ye(),{textColorClasses:b,textColorStyles:f}=Ve(C(e,"textColor")),{themeClasses:S}=te(),{locationStyles:y}=Se(e,!0,u=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(u)?+(e.offsetY??0):["left","right"].includes(u)?+(e.offsetX??0):0));return R(()=>{const u=Number(e.content),g=!e.max||isNaN(u)?e.content:u<=+e.max?u:`${e.max}+`,[m,i]=ke(c.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return a(e.tag,z({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},i,{style:e.style}),{default:()=>{var k,B;return[a("div",{class:"v-badge__wrapper"},[(B=(k=c.slots).default)==null?void 0:B.call(k),a(Be,{transition:e.transition},{default:()=>{var V,n;return[_e(a("span",z({class:["v-badge__badge",S.value,d.value,l.value,b.value],style:[h.value,f.value,e.inline?{}:y.value],"aria-atomic":"true","aria-label":o(e.label,u),"aria-live":"polite",role:"status"},m),[e.dot?void 0:c.slots.badge?(n=(V=c.slots).badge)==null?void 0:n.call(V):e.icon?a(I,{icon:e.icon},null):g]),[[Ce,e.modelValue]])]}})])]}})}),{}}});const ut=A({bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...ae(),...G(),...pe(),...oe(),...O(),...H({name:"bottom-navigation"}),...X({tag:"header"}),...we({modelValue:!0,selectedClass:"v-btn--selected"}),...j()},"VBottomNavigation"),it=L()({name:"VBottomNavigation",props:ut(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:d}=c;const{themeClasses:h}=te(),{borderClasses:l}=le(e),{backgroundColorClasses:o,backgroundColorStyles:b}=q(C(e,"bgColor")),{densityClasses:f}=xe(e),{elevationClasses:S}=se(e),{roundedClasses:y}=W(e),{ssrBootStyles:u}=re(),g=r(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),m=C(e,"active"),{layoutItemStyles:i}=Y({id:e.name,order:r(()=>parseInt(e.order,10)),position:r(()=>"bottom"),layoutSize:r(()=>m.value?g.value:0),elementSize:g,active:m,absolute:C(e,"absolute")});return Te(e,Ie),Ne({VBtn:{color:C(e,"color"),density:C(e,"density"),stacked:r(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),R(()=>a(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":m.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},h.value,o.value,l.value,f.value,S.value,y.value,e.class],style:[b.value,i.value,{height:M(g.value),transform:`translateY(${M(m.value?0:100,"%")})`},u.value,e.style]},{default:()=>[d.default&&a("div",{class:"v-bottom-navigation__content"},[d.default()])]})),{}}});const ct=A({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...ae(),...G(),...oe(),...H(),...O(),...X({tag:"footer"}),...j()},"VFooter"),dt=L()({name:"VFooter",props:ct(),setup(e,c){let{slots:d}=c;const{themeClasses:h}=Pe(e),{backgroundColorClasses:l,backgroundColorStyles:o}=q(C(e,"color")),{borderClasses:b}=le(e),{elevationClasses:f}=se(e),{roundedClasses:S}=W(e),y=P(32),{resizeRef:u}=Ae(i=>{i.length&&(y.value=i[0].target.clientHeight)}),g=r(()=>e.height==="auto"?y.value:parseInt(e.height,10)),{layoutItemStyles:m}=Y({id:e.name,order:r(()=>parseInt(e.order,10)),position:r(()=>"bottom"),layoutSize:g,elementSize:r(()=>e.height==="auto"?void 0:g.value),active:r(()=>e.app),absolute:C(e,"absolute")});return R(()=>a(e.tag,{ref:u,class:["v-footer",h.value,l.value,b.value,f.value,S.value,e.class],style:[o.value,e.app?m.value:{height:M(e.height)},e.style]},d)),{}}});const vt=e=>(He("data-v-d7ae8db6"),e=e(),Ye(),e),mt=vt(()=>ne("span",null,"登出",-1)),gt={__name:"ClientLayout",setup(e){const c=F(!1),d=F(0),h=Re(),l=ze(),o=$e(),{apiAuth:b}=Ge(),{xs:f,sm:S,smAndUp:y}=De(),u=r(()=>y.value),g=r(()=>S.value),m=r(()=>f.value),i=r(()=>[{to:"/",text:"首頁",show:m.value||g.value,icon:"mdi-home"},{to:"/appoint",text:"預約掛號",show:!0,icon:"mdi-calendar"},{to:"/status",text:"看診進度",show:!0,icon:"mdi-calendar-search"},{to:"/setup",text:"註冊登入",show:!l.isLogin,icon:"mdi-login-variant"},{to:"/account",text:"個人帳號",show:l.isLogin,icon:"mdi-account"}]),k=async()=>{var B,V;try{await b.delete("/users/logout"),l.logout(),o({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"success",location:"bottom"}}),h.push("/")}catch(n){const t=((V=(B=n==null?void 0:n.responce)==null?void 0:B.data)==null?void 0:V.message)||"發生錯誤，請稍後再試";o({text:t,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"warning",location:"bottom"}})}};return(B,V)=>{const n=Ee("RouterView");return v(),w(T,null,[g.value?(v(),_(Oe,{key:0,modelValue:c.value,"onUpdate:modelValue":V[0]||(V[0]=t=>c.value=t),temporary:"",location:"right",theme:"dark"},{default:s(()=>[a(Je,{nav:""},{default:s(()=>[(v(!0),w(T,null,U(i.value,t=>(v(),w(T,{key:t.to},[t.show?(v(),_(Z,{key:0,to:t.to,exact:""},{prepend:s(()=>[a(I,{icon:t.icon},null,8,["icon"])]),default:s(()=>[a(ee,null,{default:s(()=>[x(E(t.text),1)]),_:2},1024)]),_:2},1032,["to"])):p("",!0)],64))),128)),D(l).isLogin?(v(),_(Z,{key:0,onClick:k},{prepend:s(()=>[a(I,{icon:"mdi-logout"})]),default:s(()=>[a(ee,null,{default:s(()=>[x("登出")]),_:1})]),_:1})):p("",!0)]),_:1})]),_:1},8,["modelValue"])):p("",!0),u.value?(v(),_(at,{key:1,flat:"",color:"rgba(255, 255, 255, 0)",height:"80","scroll-behavior":"fade-image inverted","scroll-threshold":"100"},{image:s(()=>[a(Fe,{gradient:"45deg, #26A69A, #80CBC4"})]),default:s(()=>[a(Ke,{class:"d-flex align-center"},{default:s(()=>[a(N,{to:"/",active:!1},{default:s(()=>[a(st,{style:{color:"#fff"},class:"font-weight-medium text-h5"},{default:s(()=>[x("台北動物醫院")]),_:1})]),_:1}),a(Ue),g.value?(v(),_(lt,{key:0,color:"#fff",onClick:V[1]||(V[1]=t=>c.value=!0)})):(v(),w("div",{key:1,class:"navbar",style:Me(`--navbar-padding: ${D(l).isLogin?"0px 8px":"6px 8px"};`)},[(v(!0),w(T,null,U(i.value,t=>(v(),w(T,{key:t},[t.show?(v(),_(N,{key:0,to:t.to,"prepend-icon":t.icon,color:"teal",rounded:"",exact:""},{default:s(()=>[x(E(t.text),1)]),_:2},1032,["to","prepend-icon"])):p("",!0),t.show?(v(),_(I,{key:1,color:"teal"},{default:s(()=>[x("mdi-circle-small")]),_:1})):p("",!0)],64))),128)),a(N,{color:"teal",rounded:""},{default:s(()=>[a(rt,{color:"#f2a73b",dot:""},{default:s(()=>[a(I,{size:"large"},{default:s(()=>[x("mdi-bell")]),_:1})]),_:1})]),_:1}),D(l).isLogin?(v(),_(N,{key:0,icon:"mdi-logout",color:"grey",onClick:k})):p("",!0)],4))]),_:1})]),_:1})):p("",!0),a(Xe,{class:"bg-grey-lighten-3 pa-0"},{default:s(()=>[a(n)]),_:1}),m.value?(v(),_(dt,{key:2,app:"",class:"py-0"},{default:s(()=>[a(Qe,{class:"overflow-visible"},{default:s(()=>[a(it,{mode:"shift","bg-color":"teal",modelValue:d.value,"onUpdate:modelValue":V[2]||(V[2]=t=>d.value=t)},{default:s(()=>[(v(!0),w(T,null,U(i.value,t=>(v(),w(T,{key:t},[t.show?(v(),_(N,{key:0,to:t.to,exact:""},{default:s(()=>[a(I,null,{default:s(()=>[x(E(t.icon),1)]),_:2},1024),ne("span",null,E(t.text),1)]),_:2},1032,["to"])):p("",!0)],64))),128)),D(l).isLogin?(v(),_(N,{key:0,color:"grey",onClick:k},{default:s(()=>[a(I,null,{default:s(()=>[x("mdi-logout")]),_:1}),mt]),_:1})):p("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})):p("",!0)],64)}}},kt=Le(gt,[["__scopeId","data-v-d7ae8db6"]]);export{kt as default};
