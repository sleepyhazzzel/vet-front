import{p as L,r as U,s as P,c as n,a as re,w as E,o as ue,b as ie,m as Y,g as R,u as ce,d as de,e as G,t as k,f as z,h as a,i as D,j as ve,k as me,V as I,I as ge,l as O,n as fe,q as X,v as j,x as q,y as he,z as W,A as J,B as be,C as ye,D as te,E as Ve,F as Se,M as ke,G as Be,H as Ce,J as A,K as ae,L as _e,N as oe,O as xe,P as le,Q as we,R as se,S as pe,T as Te,U as H,W as Ne,X as Pe,Y as Ie,_ as Ae,Z as Le,$ as Re,a0 as ze,a1 as $e,a2 as De,a3 as Ee,a4 as m,a5 as p,a6 as _,a7 as s,a8 as x,a9 as Fe,aa as $,ab as T,ac as M,ad as N,ae as Ue,af as Me,ag as He,ah as F,ai as Ye,aj as Ge}from"./index-fa1a0a70.js";import{V as Oe,a as Xe}from"./VNavigationDrawer-8261691a.js";import{m as je,V as Q,a as qe,b as We}from"./VToolbar-d5aa9724.js";import{u as ne,V as Z,a as ee,b as Je}from"./VList-24642885.js";import{V as Ke}from"./VContainer-17c4b5bd.js";import{V as Qe}from"./VRow-a4ddde0f.js";const Ze=L({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function et(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:c}=i;let g=0;const d=U(null),t=P(0),f=P(0),h=P(0),V=P(!1),y=P(!1),r=n(()=>Number(e.scrollThreshold)),b=n(()=>re((r.value-t.value)/r.value||0)),v=()=>{const u=d.value;!u||c&&!c.value||(g=t.value,t.value="window"in u?u.pageYOffset:u.scrollTop,y.value=t.value<g,h.value=Math.abs(t.value-r.value))};return E(y,()=>{f.value=f.value||t.value}),E(V,()=>{f.value=0}),ue(()=>{E(()=>e.scrollTarget,u=>{var B;const S=u?document.querySelector(u):window;S&&S!==d.value&&((B=d.value)==null||B.removeEventListener("scroll",v),d.value=S,d.value.addEventListener("scroll",v,{passive:!0}))},{immediate:!0})}),ie(()=>{var u;(u=d.value)==null||u.removeEventListener("scroll",v)}),c&&E(c,v,{immediate:!0}),{scrollThreshold:r,currentScroll:t,currentThreshold:h,isScrollActive:V,scrollRatio:b,isScrollingUp:y,savedScroll:f}}const tt=L({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...je(),...Y(),...Ze(),height:{type:[Number,String],default:64}},"VAppBar"),at=R()({name:"VAppBar",props:tt(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:c}=i;const g=U(),d=ce(e,"modelValue"),t=n(()=>{var C;const o=new Set(((C=e.scrollBehavior)==null?void 0:C.split(" "))??[]);return{hide:o.has("hide"),inverted:o.has("inverted"),collapse:o.has("collapse"),elevate:o.has("elevate"),fadeImage:o.has("fade-image")}}),f=n(()=>{const o=t.value;return o.hide||o.inverted||o.collapse||o.elevate||o.fadeImage||!d.value}),{currentScroll:h,scrollThreshold:V,isScrollingUp:y,scrollRatio:r}=et(e,{canScroll:f}),b=n(()=>e.collapse||t.value.collapse&&(t.value.inverted?r.value>0:r.value===0)),v=n(()=>e.flat||t.value.elevate&&(t.value.inverted?h.value>0:h.value===0)),u=n(()=>t.value.fadeImage?t.value.inverted?1-r.value:r.value:void 0),S=n(()=>{var l,K;if(t.value.hide&&t.value.inverted)return 0;const o=((l=g.value)==null?void 0:l.contentHeight)??0,C=((K=g.value)==null?void 0:K.extensionHeight)??0;return o+C});de(n(()=>!!e.scrollBehavior),()=>{ve(()=>{t.value.hide?t.value.inverted?d.value=h.value>V.value:d.value=y.value||h.value<V.value:d.value=!0})});const{ssrBootStyles:B}=ne(),{layoutItemStyles:w}=G({id:e.name,order:n(()=>parseInt(e.order,10)),position:k(e,"location"),layoutSize:S,elementSize:P(void 0),active:d,absolute:k(e,"absolute")});return z(()=>{const o=Q.filterProps(e);return a(Q,D({ref:g,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...w.value,"--v-toolbar-image-opacity":u.value,height:void 0,...B.value},e.style]},o,{collapse:b.value,flat:v.value}),c)}),{}}}),ot=L({...me({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),lt=R()({name:"VAppBarNavIcon",props:ot(),setup(e,i){let{slots:c}=i;return z(()=>a(I,D(e,{class:["v-app-bar-nav-icon"]}),c)),{}}}),st=R()({name:"VAppBarTitle",props:qe(),setup(e,i){let{slots:c}=i;return z(()=>a(We,D(e,{class:"v-app-bar-title"}),c)),{}}});const nt=L({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:ge,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...O(),...fe({location:"top end"}),...X(),...j(),...q(),...he({transition:"scale-rotate-transition"})},"VBadge"),rt=R()({name:"VBadge",inheritAttrs:!1,props:nt(),setup(e,i){const{backgroundColorClasses:c,backgroundColorStyles:g}=W(k(e,"color")),{roundedClasses:d}=J(e),{t}=be(),{textColorClasses:f,textColorStyles:h}=ye(k(e,"textColor")),{themeClasses:V}=te(),{locationStyles:y}=Ve(e,!0,r=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(r)?+(e.offsetY??0):["left","right"].includes(r)?+(e.offsetX??0):0));return z(()=>{const r=Number(e.content),b=!e.max||isNaN(r)?e.content:r<=+e.max?r:`${e.max}+`,[v,u]=Se(i.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return a(e.tag,D({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},u,{style:e.style}),{default:()=>{var S,B;return[a("div",{class:"v-badge__wrapper"},[(B=(S=i.slots).default)==null?void 0:B.call(S),a(ke,{transition:e.transition},{default:()=>{var w,o;return[Be(a("span",D({class:["v-badge__badge",V.value,c.value,d.value,f.value],style:[g.value,h.value,e.inline?{}:y.value],"aria-atomic":"true","aria-label":t(e.label,r),"aria-live":"polite",role:"status"},v),[e.dot?void 0:i.slots.badge?(o=(w=i.slots).badge)==null?void 0:o.call(w):e.icon?a(A,{icon:e.icon},null):b]),[[Ce,e.modelValue]])]}})])]}})}),{}}});const ut=L({bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...ae(),...O(),..._e(),...oe(),...X(),...Y({name:"bottom-navigation"}),...j({tag:"header"}),...xe({modelValue:!0,selectedClass:"v-btn--selected"}),...q()},"VBottomNavigation"),it=R()({name:"VBottomNavigation",props:ut(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:c}=i;const{themeClasses:g}=te(),{borderClasses:d}=le(e),{backgroundColorClasses:t,backgroundColorStyles:f}=W(k(e,"bgColor")),{densityClasses:h}=we(e),{elevationClasses:V}=se(e),{roundedClasses:y}=J(e),{ssrBootStyles:r}=ne(),b=n(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),v=k(e,"active"),{layoutItemStyles:u}=G({id:e.name,order:n(()=>parseInt(e.order,10)),position:n(()=>"bottom"),layoutSize:n(()=>v.value?b.value:0),elementSize:b,active:v,absolute:k(e,"absolute")});return pe(e,Ne),Te({VBtn:{color:k(e,"color"),density:k(e,"density"),stacked:n(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),z(()=>a(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":v.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},g.value,t.value,d.value,h.value,V.value,y.value,e.class],style:[f.value,u.value,{height:H(b.value),transform:`translateY(${H(v.value?0:100,"%")})`},r.value,e.style]},{default:()=>[c.default&&a("div",{class:"v-bottom-navigation__content"},[c.default()])]})),{}}});const ct=L({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...ae(),...O(),...oe(),...Y(),...X(),...j({tag:"footer"}),...q()},"VFooter"),dt=R()({name:"VFooter",props:ct(),setup(e,i){let{slots:c}=i;const{themeClasses:g}=Pe(e),{backgroundColorClasses:d,backgroundColorStyles:t}=W(k(e,"color")),{borderClasses:f}=le(e),{elevationClasses:h}=se(e),{roundedClasses:V}=J(e),y=P(32),{resizeRef:r}=Ie(u=>{u.length&&(y.value=u[0].target.clientHeight)}),b=n(()=>e.height==="auto"?y.value:parseInt(e.height,10)),{layoutItemStyles:v}=G({id:e.name,order:n(()=>parseInt(e.order,10)),position:n(()=>"bottom"),layoutSize:b,elementSize:n(()=>e.height==="auto"?void 0:b.value),active:n(()=>e.app),absolute:k(e,"absolute")});return z(()=>a(e.tag,{ref:r,class:["v-footer",g.value,d.value,f.value,h.value,V.value,e.class],style:[t.value,e.app?v.value:{height:H(e.height)},e.style]},c)),{}}});const vt={__name:"ClientLayout",setup(e){const i=U(!1),c=U(0),g=Le(),d=Re(),t=ze(),f=$e(),{apiAuth:h}=Ge(),{xs:V,sm:y,smAndUp:r}=De(),b=n(()=>r.value),v=n(()=>y.value),u=n(()=>V.value),S=n(()=>[{to:"/",text:"首頁",show:v.value,icon:"mdi-home"},{to:"/appoint",text:"預約掛號",show:!0,icon:"mdi-calendar"},{text:"看診進度",show:!0,icon:"mdi-calendar-search"},{to:"/setup",text:"註冊登入",show:!t.isLogin,icon:"mdi-login-variant"},{to:"/account",text:"個人帳號",show:t.isLogin,icon:"mdi-account"}]),B=async()=>{var w,o;try{await h.delete("/users/logout"),t.logout(),f({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"success",location:"bottom"}}),d.push("/")}catch(C){const l=((o=(w=C==null?void 0:C.responce)==null?void 0:w.data)==null?void 0:o.message)||"發生錯誤，請稍後再試";f({text:l,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"warning",location:"bottom"}})}};return(w,o)=>{const C=Ee("RouterView");return m(),p(T,null,[v.value?(m(),_(Oe,{key:0,modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=l=>i.value=l),temporary:"",location:"right",theme:"dark"},{default:s(()=>[a(Je,{nav:""},{default:s(()=>[(m(!0),p(T,null,M(S.value,l=>(m(),p(T,{key:l.to},[l.show?(m(),_(Z,{key:0,to:l.to,exact:""},{prepend:s(()=>[a(A,{icon:l.icon},null,8,["icon"])]),default:s(()=>[a(ee,null,{default:s(()=>[N(F(l.text),1)]),_:2},1024)]),_:2},1032,["to"])):x("",!0)],64))),128)),$(t).isLogin?(m(),_(Z,{key:0,onClick:B},{prepend:s(()=>[a(A,{icon:"mdi-logout"})]),default:s(()=>[a(ee,null,{default:s(()=>[N("登出")]),_:1})]),_:1})):x("",!0)]),_:1})]),_:1},8,["modelValue"])):x("",!0),b.value?(m(),_(at,{key:1,flat:"",color:"rgba(255, 255, 255, 0)",height:"80","scroll-behavior":"fade-image inverted","scroll-threshold":"100"},{image:s(()=>[a(Ue,{gradient:"45deg, #009688, #80CBC4"})]),default:s(()=>[a(Ke,{class:"d-flex align-center"},{default:s(()=>[a(I,{to:"/",active:!1},{default:s(()=>[a(st,{style:{color:"#fff"},class:"font-weight-medium text-h5"},{default:s(()=>[N("台北動物醫院")]),_:1})]),_:1}),a(Me),v.value?(m(),_(lt,{key:0,color:"#fff",onClick:o[1]||(o[1]=l=>i.value=!0)})):(m(),p("div",{key:1,class:"navbar",style:He(`--navbar-padding: ${$(t).isLogin?"0px 8px":"6px 8px"};`)},[(m(!0),p(T,null,M(S.value,l=>(m(),p(T,{key:l},[l.show?(m(),_(I,{key:0,to:l.to,"prepend-icon":l.icon,color:"teal",rounded:"",exact:""},{default:s(()=>[N(F(l.text),1)]),_:2},1032,["to","prepend-icon"])):x("",!0),l.show?(m(),_(A,{key:1,color:"teal"},{default:s(()=>[N("mdi-circle-small")]),_:1})):x("",!0)],64))),128)),a(I,{color:"teal",rounded:""},{default:s(()=>[a(rt,{color:"#f2a73b",dot:""},{default:s(()=>[a(A,{size:"large"},{default:s(()=>[N("mdi-bell")]),_:1})]),_:1})]),_:1}),$(t).isLogin?(m(),_(I,{key:0,icon:"mdi-logout",color:"grey",onClick:B})):x("",!0)],4))]),_:1})]),_:1})):x("",!0),a(Xe,{class:Fe({"bg-grey-lighten-3":$(g).name==="Account"||$(g).name==="Appoint","pa-0":!0})},{default:s(()=>[a(C)]),_:1},8,["class"]),u.value?(m(),_(dt,{key:2},{default:s(()=>[a(Qe,{class:"overflow-visible",style:{height:"56px"}},{default:s(()=>[a(it,{"bg-color":"teal",modelValue:c.value,"onUpdate:modelValue":o[2]||(o[2]=l=>c.value=l)},{default:s(()=>[(m(!0),p(T,null,M(S.value,l=>(m(),p(T,{key:l},[l.show?(m(),_(I,{key:0,to:l.to,exact:""},{default:s(()=>[a(A,null,{default:s(()=>[N(F(l.icon),1)]),_:2},1024),Ye("span",null,F(l.text),1)]),_:2},1032,["to"])):x("",!0)],64))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):x("",!0)],64)}}},Vt=Ae(vt,[["__scopeId","data-v-e9c1af9f"]]);export{Vt as default};
